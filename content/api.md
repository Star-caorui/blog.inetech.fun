---
title: "API"
slug: "api"
date: 2021-01-27T14:46:00.000Z
aliases: /api.html
---

# iNetech API

## 前言

  您可以从这里查看 [iNetech 在线服务状态][1]。

## 简介

  iNetech API 是 iNetech 站点 对外提供的有限接口服务。请先阅读并同意[《iNetech 服务协议》][2]后再使用本服务。如不同意，本站可能将无法对您提供服务。

## 概览

|               名称               |    状态    |
| :------------------------------: | :--------: |
|           查询IP (ip)            |   运行中   |
|          剪切板 (clip)           | **维护中** |
|         随机动漫图 (acg)         |   运行中   |
|       Bing 每日壁纸 (bing)       | **维护中** |
|    MC 服务器基本信息 (mcping)    |   运行中   |
|   MC JE 服务器基本信息 (mcje)    |   运行中   |
| MC BE 服务器基本信息 (mcbe/mcpe) |   运行中   |

注：mcpe 仅作为名称兼容性保留，和 mcbe 表现一致，无特殊行为。

----------

## 调用

### 基本调用信息

| 请求方式 |   协议   |      地址       |                  参数                  |
| :------: | :------: | :-------------: | :------------------------------------: |
| GET/POST | https:// | api.inetech.fun | /API名称?参数1=xxx&参数2=xxx&参数3=xxx |

### 公共参数：全局通用参数

|  名称   |                              值                              |                           备注                           |
| :-----: | :----------------------------------------------------------: | :------------------------------------------------------: |
| return  |                     json, raw, redirect                      |         *可选*，返回值的类型。默认是 json 格式。         |
| headers | `[{"name":"name1","value":"value1"},{"name":"name2","value":"value2"}]` | *可选*，在返回 header 上的新增内容，无法覆盖部分预设值。 |

注：headers 的值需要经过一层 base64 编码。

----------

#### 查询 IP

调用方法 (命令行工具)：

| 查询 IP 类型 |                  命令                  |
| :----------: | :------------------------------------: |
|     IPv4     | `curl 'https://api.inetech.fun/ip' -4` |
|     IPv6     | `curl 'https://api.inetech.fun/ip' -6` |

调用方法 (网页)：

|              请直接访问查询               |
| :---------------------------------------: |
| [https://api.inetech.fun/ip?return=ip][3] |

注：目前仅提供查询访客 IP 地址，不支持查询 IP 信息。

----------

#### 剪切板

附加服务协议：

1. 代码类剪切板可永久保留，其他类别的剪切板可能会被在 7 天后酌情删除！

2. 禁止滥用，例如当图床使用，未来可能会单独提供图床 API 服务。

调用方法 (命令行工具)：

|     介绍     |                             命令                             |
| :----------: | :----------------------------------------------------------: |
|   缩短命令   | `alias clip='curl -F "c=@-" "https://api.inetech.fun/clip?return=preview"'` |
| 上传标准输出 |               echo 'hello world' &verbar; clip               |
| 上传文本文件 |                  cat xxx.txt &verbar; clip                  |
| 上传媒体文件 |                  cat xxx.png &verbar; clip                  |

调用方法 (网页表单上传)：
*暂未支持*

调用参数：

|   名称   |             值             |                          备注                          |
| :------: | :------------------------: | :----------------------------------------------------: |
|    c     |     通过命令行工具上传     |      **创建时必选**，使用教程请参阅上面的示例代码      |
| 暂未开发 |      通过网页工具上传      |      **创建时必选**，使用教程请参阅上面的示例代码      |
|    d     |    用来标识访问的剪切板    | **查询时必选**，如果没有此参数，将默认创建一个剪切板。 |
|   del    |  创建剪切板时返回的 UUID   |            **删除时必选**，用于删除该条目。            |
|  suffix  |         自定义后缀         |               *创建时可选*，默认随机后缀               |
|  return  |          preview           |       *可选*，在「公共参数」的基础上新增的参数。       |
|  submit  | getRecentSubmit, getOrphan |        *可选*，获取遗失的剪切板列表。详见下注。        |

注：getRecentSubmit 是根据当前访问 IP 段查询创建过的剪切板。

注：getOrphan 是查询孤儿剪切板（在数据库中无匹配的剪切板）

注：请使用 POST 表单上传文件的形式提交剪切板内容，参数可正常使用 GET/POST 提交。

----------

#### 随机动漫图

调用方法：https://api.inetech.fun/acg?&orientation=horizontal&return=redirect

|    名称     |          值          |                             备注                             |
| :---------: | :------------------: | :----------------------------------------------------------: |
| orientation | horizontal, vertical | *可选*，返回图像的方向。默认随机。horizontal 为横向，vertical 为纵向。 |
|   action    |    getAllUrlList     |     *可选*，特殊操作请求。将返回一个包含全部 URL 的 JSON     |

----------

#### Bing 每日壁纸

调用方法：https://api.inetech.fun/bing

此 API 正在维护阶段，文档可能更新不及时！

----------

#### MC 服务器基本信息

调用方法：https://api.inetech.fun/mcping?type=je&address=a.nikiss.top&port=25565

|  名称   |              值              |                    备注                     |
| :-----: | :--------------------------: | :-----------------------------------------: |
|  type   | mcje, mcbe, mcpe, je, be, pe |             **必选**，无默认值              |
| address |   支持 「IP」 或 「域名」    |           **必选**，服务器地址。            |
|  port   |          任意端口号          | *可选*，默认将会跟随 type 使用 mc 默认端口. |

----------

#### MC JE 服务器基本信息

调用方法：https://api.inetech.fun/mcje?address=a.nikiss.top&port=25565

|  名称   |           值            |          备注          |
| :-----: | :---------------------: | :--------------------: |
| address | 支持 「IP」 或 「域名」 | **必选**，服务器地址。 |
|  port   |       任意端口号        |  *可选*，默认 25565.   |

----------

#### MC BE 服务器基本信息

调用方法：https://api.inetech.fun/mcbe?address=a.nikiss.top&port=19132

|  名称   |           值            |          备注          |
| :-----: | :---------------------: | :--------------------: |
| address | 支持 「IP」 或 「域名」 | **必选**，服务器地址。 |
|  port   |       任意端口号        |  *可选*，默认 19132.   |

注：mcpe 仅作为名称兼容性提供，本质和 mcbe 表现一致。


[1]: https://status.inetech.fun/
[2]: https://blog.inetech.fun/tos.html
[3]: https://api.inetech.fun/ip?return=ip
