---
title: "如何获取腾讯云 MFA 的密钥"
slug: "get-qcloud-secret"
date: 2022-02-11T08:12:00.000Z
categories:
- 技术
tags:
- 2FA
- MFA
- OTP
- TOTP
- 腾讯云
aliases: /Tutorial/get-qcloud-secret.html
---

*通过抓包获取腾讯云 MFA 的密钥。*

<!--more-->

### 介绍
  一般来说，MFA 是通过「密钥」+「时间」通过「TOTP 算法」计算得到一个 6 位的验证码。而这个「密钥」最好是可以本地离线保存。但腾讯云无法使用第三方 2FA 工具，必须使用微信小程序查看。但腾讯云的小程序每次查询时会像服务器发送一个请求，获取这个「密钥」。（为什么不保存在本地？！！）（这个小程序非常难用，于是我就想到获取这个「密钥」来使用第三方工具了）

### 准备
  我们打算抓包获取这个「密钥」，鉴于手机抓包有较多不便，我选择用「微信 PC」上的小程序来抓包。你需要准备以下工具。
 - 一台安装了抓包工具，和支持小程序版本的微信的电脑。
 - 一个其他的 2FA 工具。

### 抓什么呢？
  - 地址：https://weapp.cloud.tencent.com/authenticator/ajax/
  - 参数：softSn (绑定时抓这个)，secret（查询时抓这个）

### 过程
  在知道了要抓哪，抓啥后，你就可以打开小程序，访问 MFA 页面开始你的抓包了，如果你还没有添加小程序，请在小程序的设置安全那里开启 MFA 会自动绑定一个 MFA 的。
  抓到了「密钥」后，把「密钥」手动填入 2FA 工具软件内，即可使用第三方工具进行你的二步验证啦～

### 具体抓包工具的用法请自行了解。就酱～
